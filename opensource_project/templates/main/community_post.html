<!DOCTYPE html>
<html lang="en">
{% load static %}
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css"/>
    <link rel="stylesheet" href="{% static 'css/common.css' %}" />
    <link rel="stylesheet" href="{% static 'css/community.css' %}" />

    <title>이 옷 어디?</title>
    </head>
        <body>
            <header>
                <div class="inner">
                    <a href="{% url 'main:mainpage' %}" class="logo">
                    <img
                        class="logoImg"
                        src="{% static 'images/LogoImg.JPG' %}"
                        alt="logoImg"
                    />
                    </a>

                    <ul class="submenu">
                        <li><a href="{% url 'main:mainpage' %}">제품 검색</a></li>
                        <li><a href="{% url 'main:community' %}">커뮤니티</a></li>
                        <li><a href="{% url 'main:rcmdpage' %}">제품 추천</a></li>
                        <li><a href="{% url 'main:service_info' %}">서비스 소개</a></li>
                      </ul>

                    <ul class="usermenu">
                    <li><a href="login.html">로그인</a></li>
                    <li><a href="signup.html">회원가입</a></li>
                    </ul>
                </div>
            </header>
            <div class="inner__content">
                <form method= "POST" action = "{% url 'main:community_upload' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="formBox">
                        <div>
                            <div class="infoFormBox">
                               <input type="text" name = "title" placeholder="글의 제목을 입력해주세요" class="title">
                            </div> 

                            <div class="contentFormBox">
                                <div class="image_container">
                                    <img style="width: 400px;" id="preview-image" src="{% static 'images/community_postImg.PNG %}">
                                    <input style="display: block;" type="file" id="input-image" name = "inputImage">
                                </div>
                                <textarea name = "body" placeholder="내용을 작성해주세요" class="content" style="font-family: Noto Sans KR, sans-serif;font-size:15px;";></textarea>
                            </div>
                        </div>
                        <input type="image" class="button" src="/img/post_btn.png">
                    </div>
                </form>
           
                <script>
                    function readImage(input) {
                        if(input.files && input.files[0]) {
                            const reader = new FileReader()
                            reader.onload = e => {
                                const previewImage = document.getElementById("preview-image")
                                previewImage.src = e.target.result
                            }
  
                            reader.readAsDataURL(input.files[0])
                        }
                    }

                    const inputImage = document.getElementById("input-image")
                    inputImage.addEventListener("change", e => {
                        readImage(e.target)
                    })
                </script>

        </body>
    </html>
